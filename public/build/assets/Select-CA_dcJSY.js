import{q as v,j as m,z as V,A as h,g as s,b as d,a as C,n as y,t as p,w as j,i as K,o,F as S,m as O,T as B}from"./app-Dr59Qf_n.js";const L={key:0,class:"absolute left-0 right-0 top-full z-50 mt-1 max-h-60 overflow-auto border border-gray-200 bg-white py-1"},N=["onClick"],T={__name:"Select",props:{modelValue:[String,Number],options:{type:Array,required:!0},placeholder:{type:String,default:"請選擇"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},emits:["update:modelValue"],setup(l,{emit:b}){const t=l,g=b,a=v(!1),i=v(null),u=m(()=>t.options.find(e=>(typeof e=="object"?e[t.valueKey]:e)===t.modelValue)),x=m(()=>u.value?typeof u.value=="object"?u.value[t.labelKey]:u.value:t.placeholder),c=e=>typeof e=="object"?e[t.valueKey]:e,k=e=>typeof e=="object"?e[t.labelKey]:e,w=e=>{g("update:modelValue",c(e)),a.value=!1},f=e=>{i.value&&!i.value.contains(e.target)&&(a.value=!1)};return V(()=>{document.addEventListener("click",f)}),h(()=>{document.removeEventListener("click",f)}),(e,n)=>(o(),s("div",{ref_key:"dropdownRef",ref:i,class:"relative"},[d("button",{type:"button",onClick:n[0]||(n[0]=r=>a.value=!a.value),class:"flex w-full items-center justify-between border-0 bg-transparent px-0 py-2 text-left text-sm focus:outline-none"},[d("span",{class:y(l.modelValue!==""&&l.modelValue!==null?"text-gray-900":"text-gray-400")},p(x.value),3),(o(),s("svg",{class:y(["h-4 w-4 text-gray-400 transition-transform",{"rotate-180":a.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...n[1]||(n[1]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),C(B,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-75 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:j(()=>[a.value?(o(),s("div",L,[(o(!0),s(S,null,O(l.options,r=>(o(),s("button",{key:c(r),type:"button",onClick:z=>w(r),class:y(["block w-full px-3 py-2 text-left text-sm hover:bg-gray-50",c(r)===l.modelValue?"text-gray-900":"text-gray-600"])},p(k(r)),11,N))),128))])):K("",!0)]),_:1})],512))}};export{T as _};
